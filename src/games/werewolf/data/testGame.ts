import { WerewolfGame } from '../interfaces/game'
import { RoomId } from '../../../interfaces/room'
import { getActionCreator } from '../interfaces/actions'
import { PlayerId } from '../../../interfaces/player'
import { getArtifact } from './artifacts'
import { runActions } from '../helpers/gameEngine'

const game: WerewolfGame = {
  id: 'game id' as RoomId,
  victory: null,
  message: null,
  actions: [
    getActionCreator('werewolf kill')('three' as PlayerId),
    getActionCreator('werewolf kill')('three' as PlayerId),
  ],
  delayedActions: [],
  dayCount: 0,
  initialRoles: [],
  lobbyPlayers: [],
  options: {
    boogymanOP: false,
    ghost: false,
    killCult: true,
    noFlip: true,
    timeLimit: 120,
    artifacts: {
      cursed: {
        alwaysActive: true,
      },
    },
  },
  timer: Date.now(),
  type: 'werewolf-game',
  players: {
    one: {
      id: 'one' as PlayerId,
      name: 'one',
      alive: true,
      artifacts: [],
      inCult: [],
      isBlessed: false,
      isGuarded: false,
      profileImg: '',
      ready: true,
      role: 'cult leader',
      secondaryRole: null,
      linkedTo: [],
    },
    two: {
      id: 'two' as PlayerId,
      name: 'two',
      alive: true,
      artifacts: [],
      inCult: [],
      isBlessed: false,
      isGuarded: false,
      profileImg: '',
      ready: true,
      role: 'mayor',
      secondaryRole: null,
      linkedTo: [],
    },
    three: {
      id: 'three' as PlayerId,
      name: 'three',
      alive: true,
      artifacts: [
        getArtifact('skimmer of the cursed').state,
        getArtifact('scepter of rebirth').state,
      ],
      inCult: [],
      isBlessed: false,
      isGuarded: false,
      profileImg: '',
      ready: true,
      role: 'villager',
      secondaryRole: null,
      linkedTo: [],
    },
    four: {
      id: 'four' as PlayerId,
      name: 'four',
      alive: true,
      artifacts: [getArtifact('scepter of rebirth').state],
      inCult: [],
      isBlessed: false,
      isGuarded: false,
      profileImg: '',
      ready: true,
      role: 'villager',
      secondaryRole: null,
      linkedTo: [],
    },
    five: {
      id: 'five' as PlayerId,
      name: 'five',
      alive: true,
      artifacts: [],
      inCult: [],
      isBlessed: false,
      isGuarded: false,
      profileImg: '',
      ready: true,
      role: 'cursed',
      secondaryRole: null,
      linkedTo: [],
    },
    six: {
      id: 'six' as PlayerId,
      name: 'six',
      alive: true,
      artifacts: [],
      inCult: [],
      isBlessed: false,
      isGuarded: false,
      profileImg: '',
      ready: true,
      role: 'werewolf',
      secondaryRole: null,
      linkedTo: [],
    },
  },
}

console.log(runActions(game))
